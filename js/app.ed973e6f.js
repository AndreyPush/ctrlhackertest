(function(e){function t(t){for(var a,r,i=t[0],u=t[1],l=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ctrlhackertest/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"27da":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"container"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.useStore.value,expression:"config.useStore.value"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.useStore.value)?e._i(e.config.useStore.value,null)>-1:e.config.useStore.value},on:{change:function(t){var n=e.config.useStore.value,a=t.target,o=!!a.checked;if(Array.isArray(n)){var s=null,r=e._i(n,s);a.checked?r<0&&e.$set(e.config.useStore,"value",n.concat([s])):r>-1&&e.$set(e.config.useStore,"value",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.config.useStore,"value",o)}}}),e._v(" Use Store VUEX? ")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"d-flex"},[t("div",[t("label",[t("span",{staticClass:"d-block"},[e._v("Price")]),t("input",{attrs:{type:"number",min:"1"},domProps:{value:e.form.fields.price.value},on:{input:t=>{e.handleInputAnyField(t,"price")}}}),t("span",{staticClass:"d-block"},[e._v(e._s(e.form.fields.price.value))])])]),t("div",[t("label",[t("span",{staticClass:"d-block"},[e._v("Quantity")]),t("input",{attrs:{type:"number",min:"1"},domProps:{value:e.form.fields.quantity.value},on:{input:t=>{e.handleInputAnyField(t,"quantity")}}}),t("span",{staticClass:"d-block"},[e._v(e._s(e.form.fields.quantity.value))])])]),t("div",[t("label",[t("span",{staticClass:"d-block"},[e._v("Amount")]),t("input",{attrs:{type:"number",min:"1"},domProps:{value:e.form.fields.amount.value},on:{input:t=>{e.handleInputAnyField(t,"amount")}}}),t("span",{staticClass:"d-block"},[e._v(e._s(e.form.fields.amount.value))])])]),t("div",[t("button",{attrs:{role:"button",type:"submit"}},[e._v("Submit")]),t("div",[e.getStorageData?t("pre",[e._v("              "+e._s(e.getStorageData)+"\n            ")]):t("span",[e._v("No data...")])])])])]),t("div",{staticClass:"eventsFeed"},e._l(e.eventsFeed,(function(n,a){return t("div",{key:a,staticClass:"eventsFeed_item"},[t("span",{staticClass:"d-block"},[e._v(e._s(n.type))]),t("span",{staticClass:"d-block"},[e._v(e._s(n.info))])])})),0)])])},s=[];n("3c65");function r(e,t){let n=null;return function(){const a=this;n&&clearTimeout(n),n=a?setTimeout(()=>{e.call(a,...arguments)},t):setTimeout(()=>{e(...arguments)},t)}}var i=n("2f62"),u={modules:{CHECKOUT_MODULE:{name:"checkout",mutations:{SET_SAVED_PRODUCT:"checkout/setSavedProduct"}}}};function l(e,t){this.form.fields[e].value=t,this.pushEventToFeed("input",`new ${e} value is ${t}`)}const c=r(l,300);var d={name:"App",data:()=>({form:{valid:!1,fields:{price:{value:""},quantity:{value:""},amount:{value:""}}},config:{useStore:{value:!1}},eventsFeed:[],nonce:1}),computed:{...Object(i["b"])("checkout",["getSavedProduct"]),getStorageData(){const e=this.nonce,t=this.config.useStore.value?this.getSavedProduct:JSON.parse(localStorage.getItem("state"));if(t)return{nonce:e,...t}}},methods:{handleInputAnyField(e,t){c.call(this,t,e.target.value)},handleSubmit(){const{price:e,quantity:t,amount:n}=this.form.fields,a={price:e,quantity:t,amount:n,nonce:this.nonce},o=`\n        request body: ${JSON.stringify(a)},\n\n        store state: ${this.getStorageData?JSON.stringify(this.getStorageData):"empty now"}\n      `;this.pushEventToFeed("submit",o),this.emitBackendAnswer(a)},emitBackendAnswer(e){const t=t=>`\n          success: ${t?"true":"false"},\n\n          request body: ${JSON.stringify(e)},\n\n          store state: ${this.getStorageData?JSON.stringify(this.getStorageData):"empty now"}\n        `;setTimeout(()=>{e.amount.value%2?this.pushEventToFeed("response",t(!1)):(this.config.useStore.value?this.$store.commit(u.modules.CHECKOUT_MODULE.mutations.SET_SAVED_PRODUCT):localStorage.setItem("state",JSON.stringify(e)),this.nonce++,this.pushEventToFeed("response",t(!0)))},1e3)},pushEventToFeed(e,t){e&&this.eventsFeed.unshift({type:e,info:t||""})}},beforeCreate(){localStorage.removeItem("state")}},p=d,v=(n("7ed4"),n("2877")),f=Object(v["a"])(p,o,s,!1,null,null,null),m=f.exports;const h=!0,g={savedProduct:null},y={getSavedProduct:e=>e.savedProduct},b={},S={setSavedProduct(e,t){e.savedProduct=t}};var _={namespaced:h,state:g,getters:y,actions:b,mutations:S};a["a"].use(i["a"]);var O=new i["a"].Store({state:{},mutations:{},actions:{},modules:{checkout:_}});a["a"].config.productionTip=!1,new a["a"]({store:O,render:e=>e(m)}).$mount("#app")},"7ed4":function(e,t,n){"use strict";n("27da")}});
//# sourceMappingURL=app.ed973e6f.js.map